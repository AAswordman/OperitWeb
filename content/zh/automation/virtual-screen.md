## 虚拟屏幕

在 Operit 里，自动化由主 Agent 统一调度；虚拟屏幕是其中一种执行环境。

虚拟屏幕可以理解为：

- 系统侧创建的一块“独立显示会话”；
- Agent 在这块会话里完成截图、识图、点击、滑动等操作；
- 它不是普通主屏点击，也不是无障碍那条执行链路。

对于用户，重点就三件事：

- 虚拟屏幕是否满足开启条件；
- 出问题时如何快速排查；
- AutoGLM 具体配置去看专门文档，不在这里重复。

---

### 1. 开启条件（先对照这个）

请确认：

1. 已完成授权，且权限等级满足自动化要求；
2. 如果你使用 Shizuku 路径，Shizuku 服务在运行且授权正常；
3. 已在“全局显示设置”中开启 **实验性虚拟屏幕**；
4. UI 控制器模型可用；
5. 自动化工具包处于正确状态（AutoGLM 场景按其文档要求处理）。

> **重要**：虚拟屏幕模式下，无障碍权限不是执行入口；
> 仅开启无障碍并不能驱动虚拟屏幕自动化。

---

### 2. 常见问题排查顺序

如果出现“任务不执行 / 执行异常 / 很快失败”，按顺序排查：

1. 先检查权限与授权状态（注意：此处不要把“无障碍已开”当作虚拟屏幕可用的判断条件）；
2. 再检查“实验性虚拟屏幕”是否真的打开；
3. 再检查 Shizuku（若你在用）；
4. 再检查 UI 控制器模型与工具包状态；
5. 最后把任务简化成最小步骤复测（先验证能稳定完成简单动作）。

---

### 3. AutoGLM 配置说明（请直接看这里）

关于 AutoGLM 的详细配置、工具包切换、版本差异，请直接参考：

- [AutoGLM 模式](/#/guide/automation/autoglm-mode)

本页不再重复 AutoGLM 配置细节。
