import{f as $,r as a,A as V,n as T,aT as Ie,C as we,s as _e,v as ze,x as c,y as Ne,$ as Le,P as Te,aW as Be,Y as ie,au as je,bk as ne,d as Me,S as Re,j as We}from"./index-CEEpnjf-.js";import{P as He,D as Ae}from"./index-C6zR8BxE.js";const J=$.createContext({});J.Consumer;var re=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};const De=e=>{var{prefixCls:t,className:i,avatar:n,title:r,description:o}=e,d=re(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:y}=a.useContext(V),l=y("list",t),S=T(`${l}-item-meta`,i),b=$.createElement("div",{className:`${l}-item-meta-content`},r&&$.createElement("h4",{className:`${l}-item-meta-title`},r),o&&$.createElement("div",{className:`${l}-item-meta-description`},o));return $.createElement("div",Object.assign({},d,{className:S}),n&&$.createElement("div",{className:`${l}-item-meta-avatar`},n),(r||o)&&b)},Ge=$.forwardRef((e,t)=>{const{prefixCls:i,children:n,actions:r,extra:o,styles:d,className:y,classNames:l,colStyle:S}=e,b=re(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:P,itemLayout:m}=a.useContext(J),{getPrefixCls:I,list:u}=a.useContext(V),C=f=>{var g,E;return T((E=(g=u?.item)===null||g===void 0?void 0:g.classNames)===null||E===void 0?void 0:E[f],l?.[f])},w=f=>{var g,E;return Object.assign(Object.assign({},(E=(g=u?.item)===null||g===void 0?void 0:g.styles)===null||E===void 0?void 0:E[f]),d?.[f])},j=()=>{let f=!1;return a.Children.forEach(n,g=>{typeof g=="string"&&(f=!0)}),f&&a.Children.count(n)>1},_=()=>m==="vertical"?!!o:!j(),v=I("list",i),z=r&&r.length>0&&$.createElement("ul",{className:T(`${v}-item-action`,C("actions")),key:"actions",style:w("actions")},r.map((f,g)=>$.createElement("li",{key:`${v}-item-action-${g}`},f,g!==r.length-1&&$.createElement("em",{className:`${v}-item-action-split`})))),M=P?"div":"li",N=$.createElement(M,Object.assign({},b,P?{}:{ref:t},{className:T(`${v}-item`,{[`${v}-item-no-flex`]:!_()},y)}),m==="vertical"&&o?[$.createElement("div",{className:`${v}-item-main`,key:"content"},n,z),$.createElement("div",{className:T(`${v}-item-extra`,C("extra")),key:"extra",style:w("extra")},o)]:[n,z,Ie(o,{key:"extra"})]);return P?$.createElement(we,{ref:t,flex:1,style:S},N):N}),ae=Ge;ae.Meta=De;const Fe=e=>{const{listBorderedCls:t,componentCls:i,paddingLG:n,margin:r,itemPaddingSM:o,itemPaddingLG:d,marginLG:y,borderRadiusLG:l}=e,S=c(e.calc(l).sub(e.lineWidth).equal());return{[t]:{border:`${c(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:l,[`${i}-header`]:{borderRadius:`${S} ${S} 0 0`},[`${i}-footer`]:{borderRadius:`0 0 ${S} ${S}`},[`${i}-header,${i}-footer,${i}-item`]:{paddingInline:n},[`${i}-pagination`]:{margin:`${c(r)} ${c(y)}`}},[`${t}${i}-sm`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:o}},[`${t}${i}-lg`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:d}}}},Xe=e=>{const{componentCls:t,screenSM:i,screenMD:n,marginLG:r,marginSM:o,margin:d}=e;return{[`@media screen and (max-width:${n}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:r}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:r}}}},[`@media screen and (max-width: ${i}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${c(d)}`}}}}}},Ye=e=>{const{componentCls:t,antCls:i,controlHeight:n,minHeight:r,paddingSM:o,marginLG:d,padding:y,itemPadding:l,colorPrimary:S,itemPaddingSM:b,itemPaddingLG:P,paddingXS:m,margin:I,colorText:u,colorTextDescription:C,motionDurationSlow:w,lineWidth:j,headerBg:_,footerBg:v,emptyTextPadding:z,metaMarginBottom:M,avatarMarginRight:N,titleMarginBottom:f,descriptionFontSize:g}=e;return{[t]:Object.assign(Object.assign({},Ne(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:_},[`${t}-footer`]:{background:v},[`${t}-header, ${t}-footer`]:{paddingBlock:o},[`${t}-pagination`]:{marginBlockStart:d,[`${i}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:r,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:u,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:N},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:u},[`${t}-item-meta-title`]:{margin:`0 0 ${c(e.marginXXS)} 0`,color:u,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:u,transition:`all ${w}`,"&:hover":{color:S}}},[`${t}-item-meta-description`]:{color:C,fontSize:g,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${c(m)}`,color:C,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:j,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${c(y)} 0`,color:C,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:z,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${i}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:I,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:d},[`${t}-item-meta`]:{marginBlockEnd:M,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:f,color:u,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:y,marginInlineStart:"auto","> li":{padding:`0 ${c(y)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${c(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${c(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${c(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${i}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${c(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:P},[`${t}-sm ${t}-item`]:{padding:b},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},Ke=e=>({contentWidth:220,itemPadding:`${c(e.paddingContentVertical)} 0`,itemPaddingSM:`${c(e.paddingContentVerticalSM)} ${c(e.paddingContentHorizontal)}`,itemPaddingLG:`${c(e.paddingContentVerticalLG)} ${c(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}),Ve=_e("List",e=>{const t=ze(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[Ye(t),Fe(t),Xe(t)]},Ke);var Je=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};function qe(e,t){const{pagination:i=!1,prefixCls:n,bordered:r=!1,split:o=!0,className:d,rootClassName:y,style:l,children:S,itemLayout:b,loadMore:P,grid:m,dataSource:I=[],size:u,header:C,footer:w,loading:j=!1,rowKey:_,renderItem:v,locale:z}=e,M=Je(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),N=i&&typeof i=="object"?i:{},[f,g]=a.useState(N.defaultCurrent||1),[E,le]=a.useState(N.defaultPageSize||10),{getPrefixCls:ce,direction:de,className:me,style:ge}=Le("list"),{renderEmpty:G}=a.useContext(V),pe={current:1,total:0,position:"bottom"},Z=s=>(h,O)=>{var K;g(h),le(O),i&&((K=i?.[s])===null||K===void 0||K.call(i,h,O))},ue=Z("onChange"),fe=Z("onShowSizeChange"),$e=(s,h)=>{if(!v)return null;let O;return typeof _=="function"?O=_(s):_?O=s[_]:O=s.key,O||(O=`list-item-${h}`),a.createElement(a.Fragment,{key:O},v(s,h))},Se=!!(P||i||w),p=ce("list",n),[he,ye,ve]=Ve(p);let L=j;typeof L=="boolean"&&(L={spinning:L});const F=!!L?.spinning,xe=Te(u);let H="";switch(xe){case"large":H="lg";break;case"small":H="sm";break}const be=T(p,{[`${p}-vertical`]:b==="vertical",[`${p}-${H}`]:H,[`${p}-split`]:o,[`${p}-bordered`]:r,[`${p}-loading`]:F,[`${p}-grid`]:!!m,[`${p}-something-after-last-item`]:Se,[`${p}-rtl`]:de==="rtl"},me,d,y,ye,ve),x=Be(pe,{total:I.length,current:f,pageSize:E},i||{}),Ce=Math.ceil(x.total/x.pageSize);x.current=Math.min(x.current,Ce);const ee=i&&a.createElement("div",{className:T(`${p}-pagination`)},a.createElement(He,Object.assign({align:"end"},x,{onChange:ue,onShowSizeChange:fe})));let X=ie(I);i&&I.length>(x.current-1)*x.pageSize&&(X=ie(I).splice((x.current-1)*x.pageSize,x.pageSize));const Ee=Object.keys(m||{}).some(s=>["xs","sm","md","lg","xl","xxl"].includes(s)),te=je(Ee),A=a.useMemo(()=>{for(let s=0;s<ne.length;s+=1){const h=ne[s];if(te[h])return h}},[te]),Oe=a.useMemo(()=>{if(!m)return;const s=A&&m[A]?m[A]:m.column;if(s)return{width:`${100/s}%`,maxWidth:`${100/s}%`}},[JSON.stringify(m),A]);let Y=F&&a.createElement("div",{style:{minHeight:53}});if(X.length>0){const s=X.map($e);Y=m?a.createElement(Me,{gutter:m.gutter},a.Children.map(s,h=>a.createElement("div",{key:h?.key,style:Oe},h))):a.createElement("ul",{className:`${p}-items`},s)}else!S&&!F&&(Y=a.createElement("div",{className:`${p}-empty-text`},z?.emptyText||G?.("List")||a.createElement(Ae,{componentName:"List"})));const D=x.position,Pe=a.useMemo(()=>({grid:m,itemLayout:b}),[JSON.stringify(m),b]);return he(a.createElement(J.Provider,{value:Pe},a.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},ge),l),className:be},M),(D==="top"||D==="both")&&ee,C&&a.createElement("div",{className:`${p}-header`},C),a.createElement(Re,Object.assign({},L),Y,S),w&&a.createElement("div",{className:`${p}-footer`},w),P||(D==="bottom"||D==="both")&&ee)))}const ke=a.forwardRef(qe),Ue=ke;Ue.Item=ae;const Qe="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",Ze=()=>window.turnstile?Promise.resolve():(window.__operitTurnstilePromise||(window.__operitTurnstilePromise=new Promise((e,t)=>{const i=document.createElement("script");i.src=Qe,i.async=!0,i.defer=!0,i.onload=()=>e(),i.onerror=()=>t(new Error("turnstile_load_failed")),document.head.appendChild(i)})),window.__operitTurnstilePromise),dt=({siteKey:e,onVerify:t,onExpire:i,theme:n})=>{const r=a.useRef(null),o=a.useRef(null);return a.useEffect(()=>{let d=!1;return(async()=>{if(!(!e||!r.current)){try{await Ze()}catch{return}d||!r.current||!window.turnstile||(o.current=window.turnstile.render(r.current,{sitekey:e,theme:n,callback:l=>t(l),"expired-callback":()=>i?.()}))}})(),()=>{d=!0,o.current&&window.turnstile&&window.turnstile.remove(o.current),o.current=null}},[e,t,i,n]),We.jsx("div",{ref:r})},q="operit_submission_profile",k="operit_submission_history",U="operit_submission_progress",Q="operit_submission_templates",R="operit_submission_draft:",B=(e,t)=>{if(!e)return t;try{return JSON.parse(e)}catch{return t}},W=e=>{try{return JSON.stringify(e)}catch{return null}},et=()=>{const e={authorName:"",authorEmail:"",editorMode:"visual",viewMode:"split",fontSize:14};return B(localStorage.getItem(q),e)},tt=e=>{const t=W(e);t&&localStorage.setItem(q,t)},it=()=>{const e=B(localStorage.getItem(k),[]);return Array.isArray(e)?e:[]},nt=e=>{const t=W(e);t&&localStorage.setItem(k,t)},oe=()=>{const e=B(localStorage.getItem(U),{});return e&&typeof e=="object"?e:{}},se=e=>{const t=W(e);t&&localStorage.setItem(U,t)},mt=(e,t)=>{if(!e)return;const i=oe();i[e]=t,se(i)},rt=()=>{const e=B(localStorage.getItem(Q),[]);return Array.isArray(e)?e:[]},at=e=>{const t=W(e);t&&localStorage.setItem(Q,t)},gt=e=>{if(!e)return null;const t=`${R}${e}`;return B(localStorage.getItem(t),null)},ot=e=>{if(!e?.target_path)return;const t=W(e);t&&localStorage.setItem(`${R}${e.target_path}`,t)},pt=e=>{e&&localStorage.removeItem(`${R}${e}`)},st=()=>{const e=[];for(let t=0;t<localStorage.length;t+=1){const i=localStorage.key(t);if(!i||!i.startsWith(R))continue;const n=B(localStorage.getItem(i),null);n?.target_path&&e.push(n)}return e.sort((t,i)=>(i.updated_at||"").localeCompare(t.updated_at||""))},ut=()=>({profile:et(),history:it(),progress:oe(),templates:rt(),drafts:st()}),ft=e=>{e.profile&&tt(e.profile),e.history&&nt(e.history),e.progress&&se(e.progress),e.templates&&at(e.templates),e.drafts&&e.drafts.forEach(ot)},$t=()=>{localStorage.removeItem(q),localStorage.removeItem(k),localStorage.removeItem(U),localStorage.removeItem(Q);const e=[];for(let t=0;t<localStorage.length;t+=1){const i=localStorage.key(t);i&&i.startsWith(R)&&e.push(i)}e.forEach(t=>localStorage.removeItem(t))};export{Ue as L,dt as T,it as a,rt as b,et as c,tt as d,mt as e,pt as f,gt as g,nt as h,oe as i,se as j,ft as k,st as l,at as m,ut as n,$t as o,ot as s};
