import{f as $,r,a7 as V,q as M,aM as ze,C as Ne,k as Le,m as _e,n as s,l as Be,o as Me,p as we,aN as je,av as ne,ak as Re,aO as ae,d as He,S as Te}from"./index-DW90cALs.js";import{P as Ae,D as We}from"./index-vuYqc8zq.js";const q=$.createContext({});q.Consumer;var re=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};const De=e=>{var{prefixCls:t,className:i,avatar:n,title:a,description:l}=e,p=re(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:v}=r.useContext(V),c=v("list",t),S=M(`${c}-item-meta`,i),x=$.createElement("div",{className:`${c}-item-meta-content`},a&&$.createElement("h4",{className:`${c}-item-meta-title`},a),l&&$.createElement("div",{className:`${c}-item-meta-description`},l));return $.createElement("div",Object.assign({},p,{className:S}),n&&$.createElement("div",{className:`${c}-item-meta-avatar`},n),(a||l)&&x)},Ge=$.forwardRef((e,t)=>{const{prefixCls:i,children:n,actions:a,extra:l,styles:p,className:v,classNames:c,colStyle:S}=e,x=re(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:I,itemLayout:m}=r.useContext(q),{getPrefixCls:P,list:f}=r.useContext(V),C=u=>{var d,E;return M((E=(d=f?.item)===null||d===void 0?void 0:d.classNames)===null||E===void 0?void 0:E[u],c?.[u])},z=u=>{var d,E;return Object.assign(Object.assign({},(E=(d=f?.item)===null||d===void 0?void 0:d.styles)===null||E===void 0?void 0:E[u]),p?.[u])},R=()=>{let u=!1;return r.Children.forEach(n,d=>{typeof d=="string"&&(u=!0)}),u&&r.Children.count(n)>1},N=()=>m==="vertical"?!!l:!R(),h=P("list",i),L=a&&a.length>0&&$.createElement("ul",{className:M(`${h}-item-action`,C("actions")),key:"actions",style:z("actions")},a.map((u,d)=>$.createElement("li",{key:`${h}-item-action-${d}`},u,d!==a.length-1&&$.createElement("em",{className:`${h}-item-action-split`})))),H=I?"div":"li",_=$.createElement(H,Object.assign({},x,I?{}:{ref:t},{className:M(`${h}-item`,{[`${h}-item-no-flex`]:!N()},v)}),m==="vertical"&&l?[$.createElement("div",{className:`${h}-item-main`,key:"content"},n,L),$.createElement("div",{className:M(`${h}-item-extra`,C("extra")),key:"extra",style:z("extra")},l)]:[n,L,ze(l,{key:"extra"})]);return I?$.createElement(Ne,{ref:t,flex:1,style:S},_):_}),oe=Ge;oe.Meta=De;const Fe=e=>{const{listBorderedCls:t,componentCls:i,paddingLG:n,margin:a,itemPaddingSM:l,itemPaddingLG:p,marginLG:v,borderRadiusLG:c}=e,S=s(e.calc(c).sub(e.lineWidth).equal());return{[t]:{border:`${s(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:c,[`${i}-header`]:{borderRadius:`${S} ${S} 0 0`},[`${i}-footer`]:{borderRadius:`0 0 ${S} ${S}`},[`${i}-header,${i}-footer,${i}-item`]:{paddingInline:n},[`${i}-pagination`]:{margin:`${s(a)} ${s(v)}`}},[`${t}${i}-sm`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:l}},[`${t}${i}-lg`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:p}}}},Ke=e=>{const{componentCls:t,screenSM:i,screenMD:n,marginLG:a,marginSM:l,margin:p}=e;return{[`@media screen and (max-width:${n}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:a}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${i}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:l}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${s(p)}`}}}}}},Xe=e=>{const{componentCls:t,antCls:i,controlHeight:n,minHeight:a,paddingSM:l,marginLG:p,padding:v,itemPadding:c,colorPrimary:S,itemPaddingSM:x,itemPaddingLG:I,paddingXS:m,margin:P,colorText:f,colorTextDescription:C,motionDurationSlow:z,lineWidth:R,headerBg:N,footerBg:h,emptyTextPadding:L,metaMarginBottom:H,avatarMarginRight:_,titleMarginBottom:u,descriptionFontSize:d}=e;return{[t]:Object.assign(Object.assign({},Be(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:N},[`${t}-footer`]:{background:h},[`${t}-header, ${t}-footer`]:{paddingBlock:l},[`${t}-pagination`]:{marginBlockStart:p,[`${i}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:a,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:c,color:f,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:_},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:f},[`${t}-item-meta-title`]:{margin:`0 0 ${s(e.marginXXS)} 0`,color:f,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:f,transition:`all ${z}`,"&:hover":{color:S}}},[`${t}-item-meta-description`]:{color:C,fontSize:d,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${s(m)}`,color:C,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:R,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${s(v)} 0`,color:C,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:L,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${i}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:P,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:p},[`${t}-item-meta`]:{marginBlockEnd:H,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:u,color:f,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:v,marginInlineStart:"auto","> li":{padding:`0 ${s(v)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${s(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${s(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${s(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${i}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${s(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:I},[`${t}-sm ${t}-item`]:{padding:x},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},Ye=e=>({contentWidth:220,itemPadding:`${s(e.paddingContentVertical)} 0`,itemPaddingSM:`${s(e.paddingContentVerticalSM)} ${s(e.paddingContentHorizontal)}`,itemPaddingLG:`${s(e.paddingContentVerticalLG)} ${s(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}),Ve=Le("List",e=>{const t=_e(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[Xe(t),Fe(t),Ke(t)]},Ye);var qe=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};function Je(e,t){const{pagination:i=!1,prefixCls:n,bordered:a=!1,split:l=!0,className:p,rootClassName:v,style:c,children:S,itemLayout:x,loadMore:I,grid:m,dataSource:P=[],size:f,header:C,footer:z,loading:R=!1,rowKey:N,renderItem:h,locale:L}=e,H=qe(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),_=i&&typeof i=="object"?i:{},[u,d]=r.useState(_.defaultCurrent||1),[E,ce]=r.useState(_.defaultPageSize||10),{getPrefixCls:me,direction:de,className:ge,style:pe}=Me("list"),{renderEmpty:G}=r.useContext(V),fe={current:1,total:0,position:"bottom"},ee=o=>(y,O)=>{var Y;d(y),ce(O),i&&((Y=i?.[o])===null||Y===void 0||Y.call(i,y,O))},ue=ee("onChange"),$e=ee("onShowSizeChange"),Se=(o,y)=>{if(!h)return null;let O;return typeof N=="function"?O=N(o):N?O=o[N]:O=o.key,O||(O=`list-item-${y}`),r.createElement(r.Fragment,{key:O},h(o,y))},ye=!!(I||i||z),g=me("list",n),[he,ve,be]=Ve(g);let B=R;typeof B=="boolean"&&(B={spinning:B});const F=!!B?.spinning,xe=we(f);let A="";switch(xe){case"large":A="lg";break;case"small":A="sm";break}const Ce=M(g,{[`${g}-vertical`]:x==="vertical",[`${g}-${A}`]:A,[`${g}-split`]:l,[`${g}-bordered`]:a,[`${g}-loading`]:F,[`${g}-grid`]:!!m,[`${g}-something-after-last-item`]:ye,[`${g}-rtl`]:de==="rtl"},ge,p,v,ve,be),b=je(fe,{total:P.length,current:u,pageSize:E},i||{}),Ee=Math.ceil(b.total/b.pageSize);b.current=Math.min(b.current,Ee);const te=i&&r.createElement("div",{className:M(`${g}-pagination`)},r.createElement(Ae,Object.assign({align:"end"},b,{onChange:ue,onShowSizeChange:$e})));let K=ne(P);i&&P.length>(b.current-1)*b.pageSize&&(K=ne(P).splice((b.current-1)*b.pageSize,b.pageSize));const Oe=Object.keys(m||{}).some(o=>["xs","sm","md","lg","xl","xxl"].includes(o)),ie=Re(Oe),W=r.useMemo(()=>{for(let o=0;o<ae.length;o+=1){const y=ae[o];if(ie[y])return y}},[ie]),Ie=r.useMemo(()=>{if(!m)return;const o=W&&m[W]?m[W]:m.column;if(o)return{width:`${100/o}%`,maxWidth:`${100/o}%`}},[JSON.stringify(m),W]);let X=F&&r.createElement("div",{style:{minHeight:53}});if(K.length>0){const o=K.map(Se);X=m?r.createElement(He,{gutter:m.gutter},r.Children.map(o,y=>r.createElement("div",{key:y?.key,style:Ie},y))):r.createElement("ul",{className:`${g}-items`},o)}else!S&&!F&&(X=r.createElement("div",{className:`${g}-empty-text`},L?.emptyText||G?.("List")||r.createElement(We,{componentName:"List"})));const D=b.position,Pe=r.useMemo(()=>({grid:m,itemLayout:x}),[JSON.stringify(m),x]);return he(r.createElement(q.Provider,{value:Pe},r.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},pe),c),className:Ce},H),(D==="top"||D==="both")&&te,C&&r.createElement("div",{className:`${g}-header`},C),r.createElement(Te,Object.assign({},B),X,S),z&&r.createElement("div",{className:`${g}-footer`},z),I||(D==="bottom"||D==="both")&&te)))}const Qe=r.forwardRef(Je),Ue=Qe;Ue.Item=oe;const J="operit_submission_profile",Q="operit_submission_history",U="operit_submission_progress",Z="operit_submission_templates",k="operit_submission_leaderboard",T="operit_submission_draft:",w=(e,t)=>{if(!e)return t;try{return JSON.parse(e)}catch{return t}},j=e=>{try{return JSON.stringify(e)}catch{return null}},Ze=()=>{const e={authorName:"",authorEmail:"",editorMode:"visual",viewMode:"split",fontSize:14};return w(localStorage.getItem(J),e)},ke=e=>{const t=j(e);t&&localStorage.setItem(J,t)},et=()=>{const e=w(localStorage.getItem(Q),[]);return Array.isArray(e)?e:[]},tt=e=>{const t=j(e);t&&localStorage.setItem(Q,t)},se=()=>{const e=w(localStorage.getItem(U),{});return e&&typeof e=="object"?e:{}},le=e=>{const t=j(e);t&&localStorage.setItem(U,t)},mt=(e,t)=>{if(!e)return;const i=se();i[e]=t,le(i)},it=()=>{const e=w(localStorage.getItem(Z),[]);return Array.isArray(e)?e:[]},nt=e=>{const t=j(e);t&&localStorage.setItem(Z,t)},at=()=>{const e=w(localStorage.getItem(k),null);return!e||!Array.isArray(e.items)?null:e},rt=e=>{const t=j(e);t&&localStorage.setItem(k,t)},dt=e=>{if(!e)return null;const t=`${T}${e}`;return w(localStorage.getItem(t),null)},ot=e=>{if(!e?.target_path)return;const t=j(e);t&&localStorage.setItem(`${T}${e.target_path}`,t)},gt=e=>{e&&localStorage.removeItem(`${T}${e}`)},st=()=>{const e=[];for(let t=0;t<localStorage.length;t+=1){const i=localStorage.key(t);if(!i||!i.startsWith(T))continue;const n=w(localStorage.getItem(i),null);n?.target_path&&e.push(n)}return e.sort((t,i)=>(i.updated_at||"").localeCompare(t.updated_at||""))},pt=()=>({profile:Ze(),history:et(),progress:se(),templates:it(),leaderboard:at(),drafts:st()}),ft=e=>{e.profile&&ke(e.profile),e.history&&tt(e.history),e.progress&&le(e.progress),e.templates&&nt(e.templates),e.leaderboard&&rt(e.leaderboard),e.drafts&&e.drafts.forEach(ot)},ut=()=>{localStorage.removeItem(J),localStorage.removeItem(Q),localStorage.removeItem(U),localStorage.removeItem(Z),localStorage.removeItem(k);const e=[];for(let t=0;t<localStorage.length;t+=1){const i=localStorage.key(t);i&&i.startsWith(T)&&e.push(i)}e.forEach(t=>localStorage.removeItem(t))};export{Ue as L,et as a,it as b,Ze as c,ke as d,mt as e,gt as f,dt as g,tt as h,se as i,at as j,rt as k,st as l,le as m,ft as n,nt as o,pt as p,ut as q,ot as s};
