import{f as $,r as a,a7 as V,q as B,aM as we,C as _e,k as ze,m as Ne,n as c,l as Le,o as Be,p as Me,aN as Re,av as re,ak as Te,aO as ne,d as je,S as He,j as We}from"./index-CNiiDabJ.js";import{P as Ae,D as De}from"./index-DgmjAye2.js";const q=$.createContext({});q.Consumer;var ae=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i};const Ge=e=>{var{prefixCls:t,className:i,avatar:r,title:n,description:o}=e,d=ae(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:h}=a.useContext(V),l=h("list",t),S=B(`${l}-item-meta`,i),b=$.createElement("div",{className:`${l}-item-meta-content`},n&&$.createElement("h4",{className:`${l}-item-meta-title`},n),o&&$.createElement("div",{className:`${l}-item-meta-description`},o));return $.createElement("div",Object.assign({},d,{className:S}),r&&$.createElement("div",{className:`${l}-item-meta-avatar`},r),(n||o)&&b)},Fe=$.forwardRef((e,t)=>{const{prefixCls:i,children:r,actions:n,extra:o,styles:d,className:h,classNames:l,colStyle:S}=e,b=ae(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:I,itemLayout:m}=a.useContext(q),{getPrefixCls:P,list:u}=a.useContext(V),C=f=>{var g,E;return B((E=(g=u?.item)===null||g===void 0?void 0:g.classNames)===null||E===void 0?void 0:E[f],l?.[f])},w=f=>{var g,E;return Object.assign(Object.assign({},(E=(g=u?.item)===null||g===void 0?void 0:g.styles)===null||E===void 0?void 0:E[f]),d?.[f])},T=()=>{let f=!1;return a.Children.forEach(r,g=>{typeof g=="string"&&(f=!0)}),f&&a.Children.count(r)>1},_=()=>m==="vertical"?!!o:!T(),v=P("list",i),z=n&&n.length>0&&$.createElement("ul",{className:B(`${v}-item-action`,C("actions")),key:"actions",style:w("actions")},n.map((f,g)=>$.createElement("li",{key:`${v}-item-action-${g}`},f,g!==n.length-1&&$.createElement("em",{className:`${v}-item-action-split`})))),j=I?"div":"li",N=$.createElement(j,Object.assign({},b,I?{}:{ref:t},{className:B(`${v}-item`,{[`${v}-item-no-flex`]:!_()},h)}),m==="vertical"&&o?[$.createElement("div",{className:`${v}-item-main`,key:"content"},r,z),$.createElement("div",{className:B(`${v}-item-extra`,C("extra")),key:"extra",style:w("extra")},o)]:[r,z,we(o,{key:"extra"})]);return I?$.createElement(_e,{ref:t,flex:1,style:S},N):N}),oe=Fe;oe.Meta=Ge;const Xe=e=>{const{listBorderedCls:t,componentCls:i,paddingLG:r,margin:n,itemPaddingSM:o,itemPaddingLG:d,marginLG:h,borderRadiusLG:l}=e,S=c(e.calc(l).sub(e.lineWidth).equal());return{[t]:{border:`${c(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:l,[`${i}-header`]:{borderRadius:`${S} ${S} 0 0`},[`${i}-footer`]:{borderRadius:`0 0 ${S} ${S}`},[`${i}-header,${i}-footer,${i}-item`]:{paddingInline:r},[`${i}-pagination`]:{margin:`${c(n)} ${c(h)}`}},[`${t}${i}-sm`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:o}},[`${t}${i}-lg`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:d}}}},Ye=e=>{const{componentCls:t,screenSM:i,screenMD:r,marginLG:n,marginSM:o,margin:d}=e;return{[`@media screen and (max-width:${r}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:n}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:n}}}},[`@media screen and (max-width: ${i}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${c(d)}`}}}}}},Ke=e=>{const{componentCls:t,antCls:i,controlHeight:r,minHeight:n,paddingSM:o,marginLG:d,padding:h,itemPadding:l,colorPrimary:S,itemPaddingSM:b,itemPaddingLG:I,paddingXS:m,margin:P,colorText:u,colorTextDescription:C,motionDurationSlow:w,lineWidth:T,headerBg:_,footerBg:v,emptyTextPadding:z,metaMarginBottom:j,avatarMarginRight:N,titleMarginBottom:f,descriptionFontSize:g}=e;return{[t]:Object.assign(Object.assign({},Le(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:_},[`${t}-footer`]:{background:v},[`${t}-header, ${t}-footer`]:{paddingBlock:o},[`${t}-pagination`]:{marginBlockStart:d,[`${i}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:n,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:u,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:N},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:u},[`${t}-item-meta-title`]:{margin:`0 0 ${c(e.marginXXS)} 0`,color:u,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:u,transition:`all ${w}`,"&:hover":{color:S}}},[`${t}-item-meta-description`]:{color:C,fontSize:g,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${c(m)}`,color:C,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:T,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${c(h)} 0`,color:C,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:z,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${i}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:P,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:d},[`${t}-item-meta`]:{marginBlockEnd:j,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:f,color:u,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:h,marginInlineStart:"auto","> li":{padding:`0 ${c(h)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${c(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${c(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${c(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:r},[`${t}-split${t}-something-after-last-item ${i}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${c(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:I},[`${t}-sm ${t}-item`]:{padding:b},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},Ve=e=>({contentWidth:220,itemPadding:`${c(e.paddingContentVertical)} 0`,itemPaddingSM:`${c(e.paddingContentVerticalSM)} ${c(e.paddingContentHorizontal)}`,itemPaddingLG:`${c(e.paddingContentVerticalLG)} ${c(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}),qe=ze("List",e=>{const t=Ne(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[Ke(t),Xe(t),Ye(t)]},Ve);var Je=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i};function ke(e,t){const{pagination:i=!1,prefixCls:r,bordered:n=!1,split:o=!0,className:d,rootClassName:h,style:l,children:S,itemLayout:b,loadMore:I,grid:m,dataSource:P=[],size:u,header:C,footer:w,loading:T=!1,rowKey:_,renderItem:v,locale:z}=e,j=Je(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),N=i&&typeof i=="object"?i:{},[f,g]=a.useState(N.defaultCurrent||1),[E,ce]=a.useState(N.defaultPageSize||10),{getPrefixCls:de,direction:me,className:ge,style:pe}=Be("list"),{renderEmpty:G}=a.useContext(V),ue={current:1,total:0,position:"bottom"},ee=s=>(y,O)=>{var K;g(y),ce(O),i&&((K=i?.[s])===null||K===void 0||K.call(i,y,O))},fe=ee("onChange"),$e=ee("onShowSizeChange"),Se=(s,y)=>{if(!v)return null;let O;return typeof _=="function"?O=_(s):_?O=s[_]:O=s.key,O||(O=`list-item-${y}`),a.createElement(a.Fragment,{key:O},v(s,y))},ye=!!(I||i||w),p=de("list",r),[he,ve,xe]=qe(p);let L=T;typeof L=="boolean"&&(L={spinning:L});const F=!!L?.spinning,be=Me(u);let W="";switch(be){case"large":W="lg";break;case"small":W="sm";break}const Ce=B(p,{[`${p}-vertical`]:b==="vertical",[`${p}-${W}`]:W,[`${p}-split`]:o,[`${p}-bordered`]:n,[`${p}-loading`]:F,[`${p}-grid`]:!!m,[`${p}-something-after-last-item`]:ye,[`${p}-rtl`]:me==="rtl"},ge,d,h,ve,xe),x=Re(ue,{total:P.length,current:f,pageSize:E},i||{}),Ee=Math.ceil(x.total/x.pageSize);x.current=Math.min(x.current,Ee);const te=i&&a.createElement("div",{className:B(`${p}-pagination`)},a.createElement(Ae,Object.assign({align:"end"},x,{onChange:fe,onShowSizeChange:$e})));let X=re(P);i&&P.length>(x.current-1)*x.pageSize&&(X=re(P).splice((x.current-1)*x.pageSize,x.pageSize));const Oe=Object.keys(m||{}).some(s=>["xs","sm","md","lg","xl","xxl"].includes(s)),ie=Te(Oe),A=a.useMemo(()=>{for(let s=0;s<ne.length;s+=1){const y=ne[s];if(ie[y])return y}},[ie]),Ie=a.useMemo(()=>{if(!m)return;const s=A&&m[A]?m[A]:m.column;if(s)return{width:`${100/s}%`,maxWidth:`${100/s}%`}},[JSON.stringify(m),A]);let Y=F&&a.createElement("div",{style:{minHeight:53}});if(X.length>0){const s=X.map(Se);Y=m?a.createElement(je,{gutter:m.gutter},a.Children.map(s,y=>a.createElement("div",{key:y?.key,style:Ie},y))):a.createElement("ul",{className:`${p}-items`},s)}else!S&&!F&&(Y=a.createElement("div",{className:`${p}-empty-text`},z?.emptyText||G?.("List")||a.createElement(De,{componentName:"List"})));const D=x.position,Pe=a.useMemo(()=>({grid:m,itemLayout:b}),[JSON.stringify(m),b]);return he(a.createElement(q.Provider,{value:Pe},a.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},pe),l),className:Ce},j),(D==="top"||D==="both")&&te,C&&a.createElement("div",{className:`${p}-header`},C),a.createElement(He,Object.assign({},L),Y,S),w&&a.createElement("div",{className:`${p}-footer`},w),I||(D==="bottom"||D==="both")&&te)))}const Ue=a.forwardRef(ke),Qe=Ue;Qe.Item=oe;const Ze="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",et=()=>window.turnstile?Promise.resolve():(window.__operitTurnstilePromise||(window.__operitTurnstilePromise=new Promise((e,t)=>{const i=document.createElement("script");i.src=Ze,i.async=!0,i.defer=!0,i.onload=()=>e(),i.onerror=()=>t(new Error("turnstile_load_failed")),document.head.appendChild(i)})),window.__operitTurnstilePromise),pt=({siteKey:e,onVerify:t,onExpire:i,theme:r})=>{const n=a.useRef(null),o=a.useRef(null);return a.useEffect(()=>{let d=!1;return(async()=>{if(!(!e||!n.current)){try{await et()}catch{return}d||!n.current||!window.turnstile||(o.current=window.turnstile.render(n.current,{sitekey:e,theme:r,callback:l=>t(l),"expired-callback":()=>i?.()}))}})(),()=>{d=!0,o.current&&window.turnstile&&window.turnstile.remove(o.current),o.current=null}},[e,t,i,r]),We.jsx("div",{ref:n})},J="operit_submission_profile",k="operit_submission_history",U="operit_submission_progress",Q="operit_submission_templates",Z="operit_submission_leaderboard",H="operit_submission_draft:",M=(e,t)=>{if(!e)return t;try{return JSON.parse(e)}catch{return t}},R=e=>{try{return JSON.stringify(e)}catch{return null}},tt=()=>{const e={authorName:"",authorEmail:"",editorMode:"visual",viewMode:"split",fontSize:14};return M(localStorage.getItem(J),e)},it=e=>{const t=R(e);t&&localStorage.setItem(J,t)},rt=()=>{const e=M(localStorage.getItem(k),[]);return Array.isArray(e)?e:[]},nt=e=>{const t=R(e);t&&localStorage.setItem(k,t)},se=()=>{const e=M(localStorage.getItem(U),{});return e&&typeof e=="object"?e:{}},le=e=>{const t=R(e);t&&localStorage.setItem(U,t)},ut=(e,t)=>{if(!e)return;const i=se();i[e]=t,le(i)},at=()=>{const e=M(localStorage.getItem(Q),[]);return Array.isArray(e)?e:[]},ot=e=>{const t=R(e);t&&localStorage.setItem(Q,t)},st=()=>{const e=M(localStorage.getItem(Z),null);return!e||!Array.isArray(e.items)?null:e},lt=e=>{const t=R(e);t&&localStorage.setItem(Z,t)},ft=e=>{if(!e)return null;const t=`${H}${e}`;return M(localStorage.getItem(t),null)},ct=e=>{if(!e?.target_path)return;const t=R(e);t&&localStorage.setItem(`${H}${e.target_path}`,t)},$t=e=>{e&&localStorage.removeItem(`${H}${e}`)},dt=()=>{const e=[];for(let t=0;t<localStorage.length;t+=1){const i=localStorage.key(t);if(!i||!i.startsWith(H))continue;const r=M(localStorage.getItem(i),null);r?.target_path&&e.push(r)}return e.sort((t,i)=>(i.updated_at||"").localeCompare(t.updated_at||""))},St=()=>({profile:tt(),history:rt(),progress:se(),templates:at(),leaderboard:st(),drafts:dt()}),yt=e=>{e.profile&&it(e.profile),e.history&&nt(e.history),e.progress&&le(e.progress),e.templates&&ot(e.templates),e.leaderboard&&lt(e.leaderboard),e.drafts&&e.drafts.forEach(ct)},ht=()=>{localStorage.removeItem(J),localStorage.removeItem(k),localStorage.removeItem(U),localStorage.removeItem(Q),localStorage.removeItem(Z);const e=[];for(let t=0;t<localStorage.length;t+=1){const i=localStorage.key(t);i&&i.startsWith(H)&&e.push(i)}e.forEach(t=>localStorage.removeItem(t))};export{Qe as L,pt as T,rt as a,at as b,tt as c,it as d,ut as e,$t as f,ft as g,nt as h,se as i,st as j,lt as k,dt as l,le as m,yt as n,ot as o,St as p,ht as q,ct as s};
